/*
 * Created on Feb 20, 2004
 *
 * To change the template for this generated file go to
 * Window&gt;Preferences&gt;Java&gt;Code Generation&gt;Code and Comments
 */
package com.choicemaker.cm.urm.cmcherel;

import java.rmi.RemoteException;
import java.util.Date;

import javax.ejb.EJBObject;

import com.choicemaker.cm.urm.base.JobStatus;
import com.choicemaker.cm.urm.exceptions.CmRuntimeException;
import com.choicemaker.cm.urm.exceptions.ConfigException;

public interface UrmJob extends EJBObject {		// CMP fields -------------------------------------------------------------------------
    void setId(Long id) throws RemoteException;
    Long getId() throws RemoteException;
   
    void setTrackingId(String externalId) throws RemoteException;
    String getTrackingId() throws RemoteException;
    
	void setType(String type)throws RemoteException;
	String getType()throws RemoteException;	
   
    void setStatus(String status) throws RemoteException;
    String getStatus() throws RemoteException;
    
	void setFractionComplete(int i) throws RemoteException;
	int getFractionComplete() throws RemoteException;
   
	void setStartDate(Date d)throws RemoteException;
	Date getStartDate()throws RemoteException;
	/** For CMP only; */
	void setFinishDate(Date completed) throws RemoteException;
	Date getFinishDate() throws RemoteException;
	/** For CMP only; */
	void setAbortRequestDate(Date abortRequested) throws RemoteException;
	Date getAbortRequestDate() throws RemoteException;
		
	void setCurStepIndex(Long index) throws RemoteException;
	Long getCurStepIndex() throws RemoteException;    
	
	void setErrorDescription(String error)throws RemoteException;
	String getErrorDescription()throws RemoteException;

/* parameters
	void setQueryRs(SerialRecordSource rs) throws RemoteException;
	SerialRecordSource getQueryRs() throws RemoteException;
	
	void setMasterRs(SerialRecordSource rs) throws RemoteException;
	SerialRecordSource getMasterRs() throws RemoteException;	
	
	void setSerializationType(String id)throws RemoteException;
	String getSerializationType()throws RemoteException;

	void setGroupMatchType(String id)throws RemoteException;
	String getGroupMatchType()throws RemoteException;	

	void setLowerThreshold(Float lth) throws RemoteException;
	Float getLowerThreshold() throws RemoteException;
	
	void setUpperThreshold(Float lth) throws RemoteException;
	Float getUpperThreshold() throws RemoteException;
	
	void setModelName(String name) throws RemoteException;
	String getModelName() throws RemoteException;	
*/
	
// Business methods -------------------------------------------------------------------
    void markAsQueued() throws CmRuntimeException, RemoteException;
	void markAsStarted() throws CmRuntimeException, RemoteException;
	void markAsReStarted() throws CmRuntimeException, RemoteException;
//	void markAsTransOABA_() throws RemoteException;
//	void markAsSerializing_() throws RemoteException;
	
	void markAsCompleted() throws CmRuntimeException, RemoteException;
	void markAsFailed() throws CmRuntimeException, RemoteException;
	boolean markAsAbortRequested() throws RemoteException;
	void markAsAborted() throws RemoteException;
	boolean markAbortedIfRequested() throws RemoteException;

	boolean isAbortRequested() throws RemoteException;
	boolean isStarted() throws RemoteException;
	
	JobStatus getJobStatus() throws CmRuntimeException, RemoteException, ConfigException;
	
	Long findCurStepJobId() throws CmRuntimeException, RemoteException, ConfigException;
	//void updateCurStepJobId(Long stepJobId)throws CmRuntimeException, RemoteException, ConfigException;
	
//	void recordCompletedStep(Long completedStepJobId) throws CmRuntimeException,ConfigException,RemoteException;
	
	void moveToNextStep(UrmStepDescr nextUrmStepJob) throws CmRuntimeException, RemoteException, ConfigException;		
	void updateCurrentStepJobId(Long id, Long stepIndex)  throws CmRuntimeException, RemoteException, ConfigException;
	
} // UrmJob

/*
 * $Log: UrmJob.java,v $
 * Revision 1.1.2.1.8.1  2009/08/04 17:05:58  rphall
 * Added restart/resume functionality
 *
 * Revision 1.1.2.1.4.1  2009/07/30 20:32:28  rphall
 * Added markAsRestarted operation
 *
 * Revision 1.1.2.1  2007/01/29 16:34:58  jdickinson
 * Merge
 *
 * Revision 1.6.6.1  2006/12/20 22:55:20  emoussikaev
 * MBean base configuration is added to URM
 *
 * Revision 1.6  2006/10/02 15:37:52  pcheung
 * merged with multiStepJob branch
 *
 * Revision 1.3.2.3.22.2  2006/08/29 15:37:17  pcheung
 * from Progressive
 *
 * Revision 1.3.2.3.22.1  2006/08/18 18:06:28  emoussikaev
 * multi step job framework
 *
 * Revision 1.3.2.3  2006/02/22 17:52:25  emoussikaev
 * fix
 *
 * Revision 1.3.2.2  2006/01/17 22:26:56  emoussikaev
 * Abort, getStatus for analysis and MRPS conversion are added
 *
 * Revision 1.3  2006/01/12 20:59:15  emoussikaev
 * copyResult, status and abort are implemented
 *
 * Revision 1.2  2006/01/04 19:52:05  emoussikaev
 * merge with Elmer Changes
 *
 * Revision 1.1.2.2  2006/01/04 14:30:01  emoussikaev
 * Full Transitivity Analysis and Serialization
 *
 * Revision 1.1.2.1  2005/12/29 22:32:31  emoussikaev
 * working progress
 *
 * Revision 1.1  2005/12/14 17:39:50  emoussikaev
 * transitivity analysis with result serialization is added
 *
 * Revision 1.3  2005/11/29 22:30:07  emoussikaev
 * prepare for branch
 *
 * Revision 1.2  2005/10/31 15:22:26  emoussikaev
 * DOH delivery 1/11
 *
 * Revision 1.1  2005/10/21 21:32:39  emoussikaev
 * initial check in
 *
 * Revision 1.2  2005/05/06 16:15:56  emoussikaev
 * initial check in
 *
 * Revision 1.1  2005/04/22 17:29:32  emoussikaev
 * Initial check in
 *
 * Revision 1.1  2004/03/02 09:46:16  rphall
 * Initial version: compiled, tested, debugged.
 *
 */

