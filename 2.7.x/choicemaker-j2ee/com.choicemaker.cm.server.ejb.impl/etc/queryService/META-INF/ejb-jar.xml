<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ejb-jar PUBLIC "-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN" "http://java.sun.com/dtd/ejb-jar_2_0.dtd">
<ejb-jar>
	<description>ChoiceMaker Server J2EE</description>
	<display-name>ChoiceMaker Server J2EE</display-name>
	<enterprise-beans>
		<!-- Session Beans -->
		<session>
			<description><![CDATA[Query Service]]></description>
			<display-name>ChoiceMaker Server J2EE Query Service</display-name>
			<ejb-name>com.choicemaker.cm.server.ejb.base.QueryService</ejb-name>
			<home>com.choicemaker.cm.server.ejb.base.QueryServiceHome</home>
			<remote>com.choicemaker.cm.server.ejb.base.QueryService</remote>
			<ejb-class>com.choicemaker.cm.server.ejb.impl.QueryServiceBean</ejb-class>
			<session-type>Stateless</session-type>
			<transaction-type>Bean</transaction-type>
			<security-role-ref>
				<role-name>ChoiceMakerQueryService</role-name>
				<role-link>ChoiceMakerQueryService</role-link>
			</security-role-ref>
			<resource-ref>
				<res-ref-name>jdbc/blockingSource</res-ref-name>
				<res-type>javax.sql.DataSource</res-type>
				<res-auth>Container</res-auth>
			</resource-ref>
			<resource-ref>
				<res-ref-name>jdbc/reportingSource</res-ref-name>
				<res-type>javax.sql.DataSource</res-type>
				<res-auth>Container</res-auth>
			</resource-ref>
		</session>
		<session>
			<description><![CDATA[Admin Service]]></description>
			<display-name>ChoiceMaker Server J2EE Admin Service</display-name>
			<ejb-name>com.choicemaker.cm.server.ejb.base.AdminService</ejb-name>
			<home>com.choicemaker.cm.server.ejb.base.AdminServiceHome</home>
			<remote>com.choicemaker.cm.server.ejb.base.AdminService</remote>
			<ejb-class>com.choicemaker.cm.server.ejb.impl.AdminServiceBean</ejb-class>
			<session-type>Stateless</session-type>
			<transaction-type>Bean</transaction-type>
			<security-role-ref>
				<role-name>ChoiceMakerAdminService</role-name>
				<role-link>ChoiceMakerAdminService</role-link>
			</security-role-ref>
			<resource-ref>
				<res-ref-name>jdbc/blockingSource</res-ref-name>
				<res-type>javax.sql.DataSource</res-type>
				<res-auth>Container</res-auth>
			</resource-ref>
			<resource-ref>
				<res-ref-name>jdbc/reportingSource</res-ref-name>
				<res-type>javax.sql.DataSource</res-type>
				<res-auth>Container</res-auth>
			</resource-ref>
		</session>
		<!-- Message Driven Beans -->
		<!--
      	 To add message driven beans that you have deployment descriptor info for, add
      	 a file to your merge directory called message-driven-beans.xml that contains
      	 the <message-driven></message-driven> markup for those beans.
    	 -->
	</enterprise-beans>
	<!-- Relationships -->
	<!-- Assembly Descriptor -->
	<assembly-descriptor>
		<security-role>
			<description>Usage of ChoiceMaker Server J2EE Query Service</description>
			<role-name>ChoiceMakerQueryService</role-name>
		</security-role>
		<security-role>
			<description>Usage of ChoiceMaker Server J2EE Admin Service</description>
			<role-name>ChoiceMakerAdminService</role-name>
		</security-role>
		<method-permission>
			<role-name>ChoiceMakerQueryService</role-name>
			<method>
				<ejb-name>com.choicemaker.cm.server.ejb.base.QueryService</ejb-name>
				<method-name>*</method-name>
			</method>
		</method-permission>
		<method-permission>
			<role-name>ChoiceMakerAdminService</role-name>
			<method>
				<ejb-name>com.choicemaker.cm.server.ejb.base.AdminService</ejb-name>
				<method-name>*</method-name>
			</method>
		</method-permission>
		<!-- finder permissions -->
		<!-- transactions -->
		<!-- finder transactions -->
	</assembly-descriptor>
</ejb-jar>
